{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\src\\views\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\src\\views\\Menu.vue","mtime":1597926064415},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SearchBar from \"../components/SearchBar\"\nexport default {\n  components: {\n    SearchBar\n  },\n  name: \"Menu\",\n  data() {\n    return {\n        menuId: 0,\n        menu: {},\n        selected: \"\",\n        options: {},\n        selectedOptionName: \"\",\n        selectedOptionCategory: \"\",\n        optionCategory1: {},\n        optionCategory2: {},\n        optionCategory3: {},\n        optionCategory4: {},\n        optionCategory5: {},\n        option1Selected: {},\n        option2Selected: {},\n        option3Selected: {},\n        option4Selected: {},\n        option5Selected: {},\n        quantity: 0\n    }\n  },\n  created() {\n      this.id = this.$route.params.menuId;\n      this.axios.post('http://localhost:9090/menu/get_menu_item', {\n        id: this.id\n      })\n      .then(res => {\n          this.menu = res.data\n          this.optionCategory1 = this.menu.optionCategories.length > 0 ? this.menu.optionCategories[0]: null\n          this.optionCategory2 = this.menu.optionCategories.length > 1 ? this.menu.optionCategories[1]: null\n          this.optionCategory3 = this.menu.optionCategories.length > 2 ? this.menu.optionCategories[2]: null\n          this.optionCategory4 = this.menu.optionCategories.length > 3 ? this.menu.optionCategories[3]: null\n          this.optionCategory5 = this.menu.optionCategories.length > 4 ? this.menu.optionCategories[4]: null\n\n      })\n      .catch(function (error) {window.console.log(error)});\n\n      \n\n\n  },\n  mounted() {\n      \n\n\n\n  },\n  \n  methods: {\n    addToCart() {\n      window.console.log(this.optionCategory1.options)\n      var price = 0\n      var selectedOptions = []\n\n      if (this.optionCategory1 != null){\n        selectedOptions.push(this.option1Selected)\n        for (var i = 0; i < this.optionCategory1.options.length; i++){\n          if (this.option1Selected == this.optionCategory1.options[i].optionName){\n            price += this.optionCategory1.options[i].optionPrice\n          }\n        }\n      }\n\n      if (this.optionCategory2 != null){\n        selectedOptions.push(this.option2Selected)\n        for (i = 0; i < this.optionCategory2.options.length; i++){\n          if (this.option2Selected == this.optionCategory2.options[i].optionName){\n            price += this.optionCategory2.options[i].optionPrice\n          }\n        }\n      }\n\n      if (this.optionCategory3 != null){\n        selectedOptions.push(this.option3Selected)\n        for (i = 0; i < this.optionCategory3.options.length; i++){\n          if (this.option3Selected == this.optionCategory3.options[i].optionName){\n            price += this.optionCategory3.options[i].optionPrice\n          }\n        }\n      }\n\n      if (this.optionCategory4 != null){\n        selectedOptions.push(this.option4Selected)\n        for (i = 0; i < this.optionCategory4.options.length; i++){\n          if (this.option4Selected == this.optionCategory4.options[i].optionName){\n            price += this.optionCategory4.options[i].optionPrice\n          }\n        }\n      }\n\n      if (this.optionCategory5 != null){\n        selectedOptions.push(this.option5Selected)\n        for (i = 0; i < this.optionCategory5.options.length; i++){\n          if (this.option5Selected == this.optionCategory5.options[i].optionName){\n            price += this.optionCategory5.options[i].optionPrice\n          }\n        }\n      }\n\n\n      var order = {\n        menuId: this.id,\n        menuName: this.menu.name,\n        menuOptions: selectedOptions,\n        orderPrice: price * this.quantity,\n        quantity: this.quantity\n      }\n\n      window.console.log(order)\n\n      this.$parent.orders.push(order)\n\n      this.$router.push({ name: 'cart'})\n\n\n      \n\n\n    },\n  }\n}\n",{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;AAMA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <search-bar />\r\n    <img src=\"https://www.newyorkpizza.co.th/wp-content/uploads/2018/07/Featured_Main.jpg\" style=\"width: 100%\">\r\n    <p style=\"font-size: 2rem;\">{{menu.name}}</p>\r\n    <p style=\"font-size: 1.5rem;\">à¸¿{{menu.price}}</p>\r\n\r\n    <div class=\"optionsWrapper\">\r\n      <div class=\"optionCategory\" v-if=\"optionCategory1!=null\">\r\n        <div class=\"form-group\">\r\n          <label for=\"optionCategory\">{{optionCategory1.optionCategoryName}}</label>\r\n          <select class=\"form-control\" v-model=\"option1Selected\">\r\n            <option v-for=\"(option, index) in optionCategory1.options\" :key=\"index\">\r\n              {{option.optionName}}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"optionCategory\" v-if=\"optionCategory2!=null\">\r\n        <div class=\"form-group\">\r\n          <label for=\"optionCategory\">{{optionCategory2.optionCategoryName}}</label>\r\n          <select class=\"form-control\" v-model=\"option2Selected\">\r\n            <option v-for=\"(option, index) in optionCategory2.options\" :key=\"index\">\r\n              {{option.optionName}}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"optionCategory\" v-if=\"optionCategory3!=null\">\r\n        <div class=\"form-group\">\r\n          <label for=\"optionCategory\">{{optionCategory3.optionCategoryName}}</label>\r\n          <select class=\"form-control\" v-model=\"option3Selected\">\r\n            <option v-for=\"(option, index) in optionCategory3.options\" :key=\"index\">\r\n              {{option.optionName}}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"optionCategory\" v-if=\"optionCategory4!=null\">\r\n        <div class=\"form-group\">\r\n          <label for=\"optionCategory\">{{optionCategory4.optionCategoryName}}</label>\r\n          <select class=\"form-control\" v-model=\"option4Selected\">\r\n            <option v-for=\"(option, index) in optionCategory4.options\" :key=\"index\">\r\n              {{option.optionName}}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"optionCategory\" v-if=\"optionCategory5!=null\">\r\n        <div class=\"form-group\">\r\n          <label for=\"optionCategory\">{{optionCategory5.optionCategoryName}}</label>\r\n          <select class=\"form-control\" v-model=\"option5Selected\">\r\n            <option v-for=\"(option, index) in optionCategory5.options\" :key=\"index\">\r\n              {{option.optionName}}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <!-- quantity -->\r\n      <div class=\"optionCategory\">\r\n        <div class=\"form-group\">\r\n          <label for=\"quantity\">Quantity</label>\r\n          <select class=\"form-control\" v-model=\"quantity\">\r\n            <option>1</option>\r\n            <option>2</option>\r\n            <option>3</option>\r\n            <option>4</option>\r\n            <option>5</option>\r\n            <option>6</option>\r\n\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n\r\n      \r\n    </div>\r\n    <button v-on:click=\"addToCart()\" type=\"button\" class=\"btn btn-primary\">Order</button>\r\n\r\n\r\n  </div>\r\n    \r\n</template>\r\n\r\n\r\n<script>\r\n  import SearchBar from \"../components/SearchBar\"\r\n  export default {\r\n    components: {\r\n      SearchBar\r\n    },\r\n    name: \"Menu\",\r\n    data() {\r\n      return {\r\n          menuId: 0,\r\n          menu: {},\r\n          selected: \"\",\r\n          options: {},\r\n          selectedOptionName: \"\",\r\n          selectedOptionCategory: \"\",\r\n          optionCategory1: {},\r\n          optionCategory2: {},\r\n          optionCategory3: {},\r\n          optionCategory4: {},\r\n          optionCategory5: {},\r\n          option1Selected: {},\r\n          option2Selected: {},\r\n          option3Selected: {},\r\n          option4Selected: {},\r\n          option5Selected: {},\r\n          quantity: 0\r\n      }\r\n    },\r\n    created() {\r\n        this.id = this.$route.params.menuId;\r\n        this.axios.post('http://localhost:9090/menu/get_menu_item', {\r\n          id: this.id\r\n        })\r\n        .then(res => {\r\n            this.menu = res.data\r\n            this.optionCategory1 = this.menu.optionCategories.length > 0 ? this.menu.optionCategories[0]: null\r\n            this.optionCategory2 = this.menu.optionCategories.length > 1 ? this.menu.optionCategories[1]: null\r\n            this.optionCategory3 = this.menu.optionCategories.length > 2 ? this.menu.optionCategories[2]: null\r\n            this.optionCategory4 = this.menu.optionCategories.length > 3 ? this.menu.optionCategories[3]: null\r\n            this.optionCategory5 = this.menu.optionCategories.length > 4 ? this.menu.optionCategories[4]: null\r\n\r\n        })\r\n        .catch(function (error) {window.console.log(error)});\r\n\r\n        \r\n\r\n\r\n    },\r\n    mounted() {\r\n        \r\n\r\n\r\n\r\n    },\r\n    \r\n    methods: {\r\n      addToCart() {\r\n        window.console.log(this.optionCategory1.options)\r\n        var price = 0\r\n        var selectedOptions = []\r\n\r\n        if (this.optionCategory1 != null){\r\n          selectedOptions.push(this.option1Selected)\r\n          for (var i = 0; i < this.optionCategory1.options.length; i++){\r\n            if (this.option1Selected == this.optionCategory1.options[i].optionName){\r\n              price += this.optionCategory1.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory2 != null){\r\n          selectedOptions.push(this.option2Selected)\r\n          for (i = 0; i < this.optionCategory2.options.length; i++){\r\n            if (this.option2Selected == this.optionCategory2.options[i].optionName){\r\n              price += this.optionCategory2.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory3 != null){\r\n          selectedOptions.push(this.option3Selected)\r\n          for (i = 0; i < this.optionCategory3.options.length; i++){\r\n            if (this.option3Selected == this.optionCategory3.options[i].optionName){\r\n              price += this.optionCategory3.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory4 != null){\r\n          selectedOptions.push(this.option4Selected)\r\n          for (i = 0; i < this.optionCategory4.options.length; i++){\r\n            if (this.option4Selected == this.optionCategory4.options[i].optionName){\r\n              price += this.optionCategory4.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory5 != null){\r\n          selectedOptions.push(this.option5Selected)\r\n          for (i = 0; i < this.optionCategory5.options.length; i++){\r\n            if (this.option5Selected == this.optionCategory5.options[i].optionName){\r\n              price += this.optionCategory5.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n        var order = {\r\n          menuId: this.id,\r\n          menuName: this.menu.name,\r\n          menuOptions: selectedOptions,\r\n          orderPrice: price * this.quantity,\r\n          quantity: this.quantity\r\n        }\r\n\r\n        window.console.log(order)\r\n\r\n        this.$parent.orders.push(order)\r\n\r\n        this.$router.push({ name: 'cart'})\r\n\r\n\r\n        \r\n\r\n\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}