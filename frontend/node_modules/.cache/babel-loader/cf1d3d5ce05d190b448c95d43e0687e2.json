{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\src\\views\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\src\\views\\Menu.vue","mtime":1598080493858},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchBar from \"../components/SearchBar\";\nexport default {\n  components: {\n    SearchBar: SearchBar\n  },\n  name: \"Menu\",\n  data: function data() {\n    return {\n      menuId: 0,\n      menu: {},\n      selected: \"\",\n      options: {},\n      selectedOptionName: \"\",\n      selectedOptionCategory: \"\",\n      optionCategory1: null,\n      optionCategory2: null,\n      optionCategory3: null,\n      optionCategory4: null,\n      optionCategory5: null,\n      option1Selected: \"\",\n      option2Selected: \"\",\n      option3Selected: \"\",\n      option4Selected: \"\",\n      option5Selected: \"\",\n      quantity: 0,\n      invalidSubmission: false,\n      displayPrice: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.id = this.$route.params.menuId;\n    this.axios.post('https://capriapp-backend.herokuapp.com/menu/get_menu_item', {\n      id: this.id\n    }).then(function (res) {\n      _this.menu = res.data;\n      _this.displayPrice = _this.menu.displayPrice;\n      _this.optionCategory1 = _this.menu.optionCategories.length > 0 ? _this.menu.optionCategories[0] : null;\n      _this.optionCategory2 = _this.menu.optionCategories.length > 1 ? _this.menu.optionCategories[1] : null;\n      _this.optionCategory3 = _this.menu.optionCategories.length > 2 ? _this.menu.optionCategories[2] : null;\n      _this.optionCategory4 = _this.menu.optionCategories.length > 3 ? _this.menu.optionCategories[3] : null;\n      _this.optionCategory5 = _this.menu.optionCategories.length > 4 ? _this.menu.optionCategories[4] : null;\n    }).catch(function (error) {\n      window.console.log(error);\n    });\n  },\n  mounted: function mounted() {},\n  methods: {\n    addToCart: function addToCart() {\n      window.console.log(this.optionCategory1.options);\n      var price = 0;\n      var selectedOptions = [];\n\n      if (this.optionCategory1 != null) {\n        selectedOptions.push(this.option1Selected);\n\n        for (var i = 0; i < this.optionCategory1.options.length; i++) {\n          if (this.option1Selected == this.optionCategory1.options[i].optionName) {\n            price += this.optionCategory1.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategory2 != null) {\n        selectedOptions.push(this.option2Selected);\n\n        for (i = 0; i < this.optionCategory2.options.length; i++) {\n          if (this.option2Selected == this.optionCategory2.options[i].optionName) {\n            price += this.optionCategory2.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategory3 != null) {\n        selectedOptions.push(this.option3Selected);\n\n        for (i = 0; i < this.optionCategory3.options.length; i++) {\n          if (this.option3Selected == this.optionCategory3.options[i].optionName) {\n            price += this.optionCategory3.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategory4 != null) {\n        selectedOptions.push(this.option4Selected);\n\n        for (i = 0; i < this.optionCategory4.options.length; i++) {\n          if (this.option4Selected == this.optionCategory4.options[i].optionName) {\n            price += this.optionCategory4.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategory5 != null) {\n        selectedOptions.push(this.option5Selected);\n\n        for (i = 0; i < this.optionCategory5.options.length; i++) {\n          if (this.option5Selected == this.optionCategory5.options[i].optionName) {\n            price += this.optionCategory5.options[i].optionPrice;\n          }\n        }\n      } //check if all options are checked\n\n\n      var order = {\n        menuId: this.id,\n        menuName: this.menu.name,\n        menuOptions: selectedOptions,\n        orderPrice: price * this.quantity,\n        quantity: this.quantity\n      };\n      window.console.log(order);\n      this.$parent.orders.push(order);\n      this.$router.push({\n        name: 'cart'\n      });\n    },\n    updateDisplayPrice: function updateDisplayPrice() {\n      if (this.verifySelected()) {\n        this.displayPrice = this.getPrice() * this.quantity;\n      }\n    },\n    verifySelected: function verifySelected() {\n      var allSelected = true;\n\n      if (this.optionCategory1 != null && this.option1Selected == \"\") {\n        allSelected = false;\n      }\n\n      if (this.optionCategory2 != null && this.option2Selected == \"\") {\n        allSelected = false;\n      }\n\n      if (this.optionCategory3 != null && this.option3Selected == \"\") {\n        allSelected = false;\n      }\n\n      if (this.optionCategory4 != null && this.option4Selected == \"\") {\n        allSelected = false;\n      }\n\n      if (this.optionCategory5 != null && this.option5Selected == \"\") {\n        allSelected = false;\n      }\n\n      if (this.quantity == 0) {\n        allSelected = false;\n      }\n\n      return allSelected;\n    },\n    getPrice: function getPrice() {\n      var price = 0;\n      var i = 0;\n      window.console.log(\"get price function is run\");\n\n      if (this.optionCategorory1 != null) {\n        for (i = 0; i < this.optionCategory1.options.length; i++) {\n          if (this.option1Selected == this.optionCategory1.options[i].optionName) {\n            price += this.optionCategory1.options[i].optionPrice;\n            window.console.log(\"adding price\");\n          }\n        }\n      }\n\n      if (this.optionCategorory2 != null) {\n        for (i = 0; i < this.optionCategory2.options.length; i++) {\n          if (this.option2Selected == this.optionCategory2.options[i].optionName) {\n            price += this.optionCategory2.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategorory3 != null) {\n        for (i = 0; i < this.optionCategory3.options.length; i++) {\n          if (this.option3Selected == this.optionCategory3.options[i].optionName) {\n            price += this.optionCategory3.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategorory4 != null) {\n        for (i = 0; i < this.optionCategory4.options.length; i++) {\n          if (this.option4Selected == this.optionCategory4.options[i].optionName) {\n            price += this.optionCategory4.options[i].optionPrice;\n          }\n        }\n      }\n\n      if (this.optionCategorory5 != null) {\n        for (i = 0; i < this.optionCategory5.options.length; i++) {\n          if (this.option5Selected == this.optionCategory5.options[i].optionName) {\n            price += this.optionCategory5.options[i].optionPrice;\n          }\n        }\n      }\n\n      return price;\n    }\n  }\n};",{"version":3,"sources":["Menu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <search-bar />\r\n    <img src=\"https://www.newyorkpizza.co.th/wp-content/uploads/2018/07/Featured_Main.jpg\" style=\"width: 100%\">\r\n    <div class=\"container flex-grow-1 bodyArea\">\r\n      <div class=\"d-flex justify-content-center\">\r\n        <p class=\"lead mt-2\" style=\"font-size: 2rem;\">{{menu.name}}</p>\r\n      </div>\r\n      <p class=\"lightColour\" style=\"font-size: 1.5rem;\">฿{{this.displayPrice}}</p>\r\n\r\n      <div class=\"optionsWrapper\">\r\n        <div class=\"optionCategory\" v-if=\"optionCategory1!=null\">\r\n          <div class=\"form-group\">\r\n            <label for=\"optionCategory\">{{optionCategory1.optionCategoryName}}</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"option1Selected\">\r\n              <option v-for=\"(option, index) in optionCategory1.options\" :key=\"index\">\r\n                {{option.optionName}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"optionCategory\" v-if=\"optionCategory2!=null\">\r\n          <div class=\"form-group\">\r\n            <label for=\"optionCategory\">{{optionCategory2.optionCategoryName}}</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"option2Selected\">\r\n              <option v-for=\"(option, index) in optionCategory2.options\" :key=\"index\">\r\n                {{option.optionName}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"optionCategory\" v-if=\"optionCategory3!=null\">\r\n          <div class=\"form-group\">\r\n            <label for=\"optionCategory\">{{optionCategory3.optionCategoryName}}</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"option3Selected\">\r\n              <option v-for=\"(option, index) in optionCategory3.options\" :key=\"index\">\r\n                {{option.optionName}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"optionCategory\" v-if=\"optionCategory4!=null\">\r\n          <div class=\"form-group\">\r\n            <label for=\"optionCategory\">{{optionCategory4.optionCategoryName}}</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"option4Selected\">\r\n              <option v-for=\"(option, index) in optionCategory4.options\" :key=\"index\">\r\n                {{option.optionName}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"optionCategory\" v-if=\"optionCategory5!=null\">\r\n          <div class=\"form-group\">\r\n            <label for=\"optionCategory\">{{optionCategory5.optionCategoryName}}</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"option5Selected\">\r\n              <option v-for=\"(option, index) in optionCategory5.options\" :key=\"index\">\r\n                {{option.optionName}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <!-- quantity -->\r\n        <div class=\"optionCategory\">\r\n          <div class=\"form-group\">\r\n            <label for=\"quantity\">Quantity</label>\r\n            <select v-on:change=\"updateDisplayPrice()\" class=\"form-control\" v-model=\"quantity\">\r\n              <option>1</option>\r\n              <option>2</option>\r\n              <option>3</option>\r\n              <option>4</option>\r\n              <option>5</option>\r\n              <option>6</option>\r\n\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        \r\n\r\n        \r\n      </div>\r\n    \r\n    <button v-on:click=\"addToCart()\" type=\"button\" class=\"btn\" style=\"background-color:#55d6d0\">Order</button>\r\n\r\n    </div>\r\n  </div>\r\n    \r\n</template>\r\n\r\n\r\n<script>\r\n  import SearchBar from \"../components/SearchBar\"\r\n  export default {\r\n    components: {\r\n      SearchBar\r\n    },\r\n    name: \"Menu\",\r\n    data() {\r\n      return {\r\n          menuId: 0,\r\n          menu: {},\r\n          selected: \"\",\r\n          options: {},\r\n          selectedOptionName: \"\",\r\n          selectedOptionCategory: \"\",\r\n          optionCategory1: null,\r\n          optionCategory2: null,\r\n          optionCategory3: null,\r\n          optionCategory4: null,  \r\n          optionCategory5: null,\r\n          option1Selected: \"\",\r\n          option2Selected: \"\",\r\n          option3Selected: \"\",\r\n          option4Selected: \"\",\r\n          option5Selected: \"\",\r\n          quantity: 0,\r\n          invalidSubmission: false,\r\n          displayPrice: \"\"\r\n      }\r\n    },\r\n    created() {\r\n        this.id = this.$route.params.menuId;\r\n        this.axios.post('https://capriapp-backend.herokuapp.com/menu/get_menu_item', {\r\n          id: this.id\r\n        })\r\n        .then(res => {\r\n            this.menu = res.data\r\n            this.displayPrice = this.menu.displayPrice\r\n            this.optionCategory1 = this.menu.optionCategories.length > 0 ? this.menu.optionCategories[0]: null\r\n            this.optionCategory2 = this.menu.optionCategories.length > 1 ? this.menu.optionCategories[1]: null\r\n            this.optionCategory3 = this.menu.optionCategories.length > 2 ? this.menu.optionCategories[2]: null\r\n            this.optionCategory4 = this.menu.optionCategories.length > 3 ? this.menu.optionCategories[3]: null\r\n            this.optionCategory5 = this.menu.optionCategories.length > 4 ? this.menu.optionCategories[4]: null\r\n\r\n        })\r\n        .catch(function (error) {window.console.log(error)});\r\n\r\n        \r\n\r\n\r\n    },\r\n    mounted() {\r\n        \r\n\r\n\r\n\r\n    },\r\n    \r\n    methods: {\r\n      addToCart() {\r\n        window.console.log(this.optionCategory1.options)\r\n        var price = 0\r\n        var selectedOptions = []\r\n\r\n        if (this.optionCategory1 != null){\r\n          selectedOptions.push(this.option1Selected)\r\n          for (var i = 0; i < this.optionCategory1.options.length; i++){\r\n            if (this.option1Selected == this.optionCategory1.options[i].optionName){\r\n              price += this.optionCategory1.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory2 != null){\r\n          selectedOptions.push(this.option2Selected)\r\n          for (i = 0; i < this.optionCategory2.options.length; i++){\r\n            if (this.option2Selected == this.optionCategory2.options[i].optionName){\r\n              price += this.optionCategory2.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory3 != null){\r\n          selectedOptions.push(this.option3Selected)\r\n          for (i = 0; i < this.optionCategory3.options.length; i++){\r\n            if (this.option3Selected == this.optionCategory3.options[i].optionName){\r\n              price += this.optionCategory3.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory4 != null){\r\n          selectedOptions.push(this.option4Selected)\r\n          for (i = 0; i < this.optionCategory4.options.length; i++){\r\n            if (this.option4Selected == this.optionCategory4.options[i].optionName){\r\n              price += this.optionCategory4.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategory5 != null){\r\n          selectedOptions.push(this.option5Selected)\r\n          for (i = 0; i < this.optionCategory5.options.length; i++){\r\n            if (this.option5Selected == this.optionCategory5.options[i].optionName){\r\n              price += this.optionCategory5.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        //check if all options are checked\r\n\r\n        \r\n\r\n\r\n        var order = {\r\n          menuId: this.id,\r\n          menuName: this.menu.name,\r\n          menuOptions: selectedOptions,\r\n          orderPrice: price * this.quantity,\r\n          quantity: this.quantity\r\n        }\r\n\r\n        window.console.log(order)\r\n\r\n        this.$parent.orders.push(order)\r\n\r\n        this.$router.push({ name: 'cart'})\r\n\r\n\r\n        \r\n\r\n\r\n      },\r\n\r\n      updateDisplayPrice(){\r\n        if(this.verifySelected()){\r\n          this.displayPrice = this.getPrice() * this.quantity\r\n        }\r\n      },\r\n      verifySelected(){\r\n        var allSelected = true\r\n\r\n        if (this.optionCategory1 != null && this.option1Selected == \"\"){\r\n          allSelected = false\r\n        }\r\n\r\n        if (this.optionCategory2 != null && this.option2Selected == \"\"){\r\n          allSelected = false\r\n        }\r\n\r\n        if (this.optionCategory3 != null && this.option3Selected == \"\"){\r\n          allSelected = false\r\n        }\r\n\r\n        if (this.optionCategory4 != null && this.option4Selected == \"\"){\r\n          allSelected = false\r\n        }\r\n\r\n        if (this.optionCategory5 != null && this.option5Selected == \"\"){\r\n          allSelected = false\r\n        }\r\n\r\n        if (this.quantity == 0){\r\n          allSelected = false\r\n        }\r\n        return allSelected\r\n    },\r\n      getPrice(){\r\n        var price = 0\r\n        var i = 0\r\n        window.console.log(\"get price function is run\")\r\n        if (this.optionCategorory1 != null){\r\n          for (i = 0; i < this.optionCategory1.options.length; i++){\r\n          if (this.option1Selected == this.optionCategory1.options[i].optionName){\r\n            price += this.optionCategory1.options[i].optionPrice\r\n            window.console.log(\"adding price\")\r\n          }\r\n        }\r\n        }\r\n        \r\n        if (this.optionCategorory2 != null){\r\n          for (i = 0; i < this.optionCategory2.options.length; i++){\r\n            if (this.option2Selected == this.optionCategory2.options[i].optionName){\r\n              price += this.optionCategory2.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategorory3 != null){\r\n          for (i = 0; i < this.optionCategory3.options.length; i++){\r\n            if (this.option3Selected == this.optionCategory3.options[i].optionName){\r\n              price += this.optionCategory3.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategorory4 != null){\r\n          for (i = 0; i < this.optionCategory4.options.length; i++){\r\n            if (this.option4Selected == this.optionCategory4.options[i].optionName){\r\n              price += this.optionCategory4.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.optionCategorory5 != null){\r\n          for (i = 0; i < this.optionCategory5.options.length; i++){\r\n            if (this.option5Selected == this.optionCategory5.options[i].optionName){\r\n              price += this.optionCategory5.options[i].optionPrice\r\n            }\r\n          }\r\n        }\r\n\r\n        return price\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .lightColour {\r\n    color: #55d6d0;\r\n  }\r\n\r\n</style>"],"sourceRoot":"src/views"}]}